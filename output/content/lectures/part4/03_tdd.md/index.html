<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>TDD - Cosi 105b</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/bootstrap/css/custom.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="/tipuesearch/tipuesearch_set.js"></script>
    <script src="/tipuesearch/tipuesearch_content.js"></script>
    <script src="/tipuesearch/tipuesearchmin.js"></script>

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 4.0.0rc2">
  </head>
  <body>

    
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
  <div class="row">
    <div class="col-xs-7">
      <a class="navbar-brand" href="/">Cosi 105b - Software Engineering for Scalability </a>
    </div>
    <div class="col-xs-2">
      <div class="btn-group">
        
          <a class="btn btn-mini" href="/content/lectures/part4/02_oo_inheritance.md/"><i class="glyphicon glyphicon-chevron-left" rel="tooltip" title="previous page"></i></a> <a class="btn btn-mini" href="/content/lectures/part4/04_testing.md/"><i class="glyphicon glyphicon-chevron-right" rel="tooltip" title="next page"></i></a>
        
      </div>
    </div>
    <div class="col-xs-3">
    <form role="form" class="form-inline" action="/tipuesearch_logic/search/index.html">
      <div class="input-group input-group-sm">
        <input type="text" class="form-control" placeholder="search..." name="q" id="tipue_search_input" autocomplete="off" required>
      </div>
    </form>
    </div>
  </div>
</div>

    </div>
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
        <h3>
	TDD
	
		<small class="pull-right">(Fri Oct 30, lecture 17)</small>
	
</h4>

        </div>
      </div>
      <div class="row">
        <div class="col-xs-9">
          <h4 id="homework-due-for-today">Homework due for today</h4>
<ul>
  <li>Read [POODR] Chapters 8 and 9. Apply what you are learing to the team’s nanoTwitter project.</li>
  <li>Read <a href="http://blog.arvidandersson.se/2012/03/28/minimalicous-testing-in-ruby-1-9">Minimalicious testing in Ruby 1.9 with MiniTest</a></li>
  <li>Do the assignment in <a href="/content/topics/homeworks/hw_tdd.md/">TDD homework</a>. Do it in your portfolio under subdirectory <code>tdd_example</code>. <em style="color: red">Deliverable:</em> <em>Code in your portolio.</em></li>
  <li>Complete nT functionality TESTSUITE, SEEDDATA, CODESHIP and HEROKU. Work should be done in your <a href="/content/intro/portfolio.md/">Code Portfolio</a>, directory <code>/nanotwitter</code>. When complete, submit it to github. <em style="color: red">Team Deliverable:</em> <em>Completed nanoTwitter Version 0.2 github URL</em>. You should use the same github repo but tag the previous version as 0.1 and the current version of 0.2. (See <a href="http://git-scm.com/book/tr/v2/Git-Basics-Tagging">Git Tagging</a>)</li>
</ul>

<div class="well well-sm">
<span class="label label-primary">REMINDER</span> Your portfolios will be reviewed and graded TODAY for progress.
</div>

<h4 id="discussion">Discussion</h4>
<ul>
  <li>Everyone go to <a href="http://b.socrative.com/login/student/">http://b.socrative.com/login/student/</a> and go to room “Pito”
    <ul>
      <li>Question 1: Are you in now</li>
      <li>Question 2: Are you caught up on the nanoTwitter homework from today?</li>
      <li>Interactive questions</li>
    </ul>
  </li>
  <li>Homework
    <ul>
      <li>Did you really do TDD? What is the key to it?</li>
      <li>How did it feel to program in this way? Was it easier, harder, different?</li>
      <li>Conventions: file names, separating the tests from the code (why?)</li>
    </ul>
  </li>
  <li>Loader.io!</li>
</ul>

<h4 id="testing-intro">Testing Intro</h4>
<h5 id="there-are-different-kinds-of-testing-and-why-they-are-important">There are different kinds of testing and why they are important</h5>
<ul>
  <li>Unit testing: test a small unit of code that has few side effects</li>
  <li>Integration testing: test a subsystem that has many components</li>
  <li>End-to-end testing: test the complete system from top to bottom</li>
  <li>Code Coverage: Seeing how much of your actual code is run during a test or production</li>
  <li>Performance testing: Checking the speed of your code</li>
  <li>and there are some other categories</li>
  <li><em style="color: green">NB: Ruby community is especially focused on quality and testing</em></li>
</ul>

<h4 id="simplistic-demo">Simplistic Demo</h4>
<ul>
  <li><a href="/content/topics/testing/tdd_demo.md/">TDD demo</a></li>
</ul>

<h4 id="money-demo">Money Demo</h4>
<ul>
  <li>Goal: A Money class
    <ul>
      <li>represent money in different currencies</li>
      <li>Allow them to be added and subtracted etc.</li>
    </ul>
  </li>
  <li>Look at the test suite</li>
  <li>Look at <a href="https://youtu.be/MGgzGIEYH38">TDD Demo Video together</a></li>
</ul>

<h4 id="discussion-1">Discussion</h4>
<ul>
  <li>What do “I” do with testing in “real life”?</li>
  <li>Let’s review some of the options in <a href="http://mattsears.com/articles/2011/12/10/minitest-quick-reference">Minitest Quick Reference</a></li>
</ul>

<h4 id="fixtures-and-seeds">Fixtures (and seeds)</h4>
<ul>
  <li>Intro
    <ul>
      <li>Data or objects that exist exclusively for testing</li>
      <li>Sometimes known as test or seed data</li>
      <li>What is the role of data in developing tests for your application</li>
    </ul>
  </li>
  <li>Where are they stored?
    <ul>
      <li>in memory (i.e. objects and classes)</li>
      <li>on disk (i.e. files, images, …)</li>
      <li>in a database (i.e. records in a dbms)</li>
    </ul>
  </li>
  <li>When are they created?
    <ul>
      <li>At “build” time, i.e. putting files in the right directories or adding records to an empty database</li>
      <li>At “launch” time, i.e. when the app launches it creates the fixtures</li>
      <li>At “test run time”, i.e just  before the test needs them</li>
    </ul>
  </li>
  <li>Tooling
    <ul>
      <li>In rails, we have “seeds” and “fixtures” built in</li>
      <li>In sinatra, just seeds</li>
    </ul>
  </li>
</ul>

<h4 id="four-rules-of-simple-design">Four Rules of Simple Design</h4>

<ul>
  <li>What are rules like this good for?
    <ul>
      <li>They condense highly abstract ideas into easier to follow and remember rules of thumb</li>
      <li>Why do we care about “simple design”? What’s the driving force?</li>
      <li>Context matters: Are you writing throwaway code or software that someone will rely on?</li>
    </ul>
  </li>
  <li>What is “good design”?
    <ul>
      <li>It’s an aesthetic judgement, in a way</li>
      <li>According to Sandi Metz, good design is: T.R.U.E.
        <ul>
          <li><strong>Transparent:</strong> The opposite of “clever”. Is it easy to understand? Can a programmer anticipate the consquences of a change?</li>
          <li><strong>Reasonable:</strong> How easy is it to make a simple change? Do you have to rewrite a whole class? Simple changes should be simple, and deeper changes should be possible.</li>
          <li><strong>Usable:</strong> One sign of good design is if it shows itself to be usable in new ways for new purposes that were not necessarily apparent originally.</li>
          <li><strong>Exemplary:</strong> Are you proud to show it off? Would you want someone to use your code as an example?</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Four Rules of Simple Design
    <ol>
      <li>Tests Pass!
        <ul>
          <li>Yes, you have to learn how to write tests and make it part of your practice</li>
        </ul>
      </li>
      <li>Expresses Intent:
        <ul>
          <li>Yes, naming matters a lot.</li>
          <li>Often as or more important than documentation</li>
        </ul>
      </li>
      <li>No Duplication (DRY)
        <ul>
          <li>In the simplest sense, no textual duplication of lines of code</li>
          <li>More important: No duplication of concepts or knowledge</li>
        </ul>
      </li>
      <li>Small
        <ul>
          <li>Partly YAGNI</li>
          <li>But also: code paths, classes, test data, examples, abstractions that are no longer used.</li>
        </ul>
      </li>
    </ol>
  </li>
  <li>Reference:
    <ul>
      <li><a href="https://leanpub.com/4rulesofsimpledesign">Understanding the four rules of Simple Design</a></li>
      <li><a href="https://blog.thesoftwarecraft.com/2014/04/book-review-understanding-4-rules-of.html">Book Review Understanding the 4 Rules of Simple Design</a></li>
    </ul>
  </li>
</ul>

<h4 id="next-class">Next Class</h4>
<ul>
  <li>Look at homework: <a href="/content/lectures/part4/04_testing.md/">Software Testing</a></li>
</ul>

        </div>
        <div class="col-xs-3">
          <div class="row well right-nav" style="color: rgb(158, 48, 48);padding-top: 4px;padding-bottom: 4px;padding-left: 8px;padding-right: 8px;margin-bottom: 8px;">
            <div id="helpful" class="text-center">Was this helpful!?
    <a id="yes-link">yes</a> / <a id="no-link">no</a>
</div>

          </div>
          <div class="row well right-nav" style="padding: 5px;">
            <ul>
              
                <li>
            <label class="tree-toggler level1">
              <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span>
              Intro
            </label><ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-star" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/intro/course_toc.md/">List of lectures</a></li><li class=""><span class="glyphicon glyphicon-star" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/intro/portfolio.md/">Code Portfolio</a></li><li class=""><span class="glyphicon glyphicon-star" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/intro/prework.md/">Recommended Pre-Work</a></li></ul></li>
              
                <li>
            <label class="tree-toggler level1">
              <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span>
              Lectures
            </label><ul class="tree">
      <li>
        <label class="tree-toggler level2">
          <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span> 
          Software Design
        </label>
        <ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/01_welcome.md/">Welcome</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/02_ruby_firehose.md/">Ruby Firehose Part 1</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/03_intro_oo.md/">Ruby and Intro to Object Oriented</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/04_software_engineeringbasics.md/">Software Engineering</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/05_good_programming_practices.md/">Good Programming Practices</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part1/06_software_design.md/">Software Design</a></li></ul>
      </li>
    </ul><ul class="tree">
      <li>
        <label class="tree-toggler level2">
          <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span> 
          nano Twitter (nT)
        </label>
        <ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part2/01_serv_fund.md/">Server Fundamentals</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part2/02_database_fund.md/">Database Basics</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part2/03_sinatra_intro.md/">Introduction to Sinatra</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part2/04_twitter_case.md/">Twitter Case Study</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part2/05_more_sinatra.md/">Persistence and Web services</a></li></ul>
      </li>
    </ul><ul class="tree">
      <li>
        <label class="tree-toggler level2">
          <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span> 
          Scaling Basics
        </label>
        <ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part3/01_scaling_intro.md/">Intro to Scaling</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part3/02_architecting_for_scale.md/">Architecting for scale</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part3/03_web_services.md/">Introduction to Web Services</a></li></ul>
      </li>
    </ul><ul class="tree">
      <li>
        <label class="tree-toggler level2">
          <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span> 
          Building Software
        </label>
        <ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/01_review_topics.md/">Review topics</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/02_oo_inheritance.md/">OO - Inheritance</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/03_tdd.md/">TDD</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/04_testing.md/">Software Testing</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/05_patterns.md/">Design Patterns</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part4/06_practice.md/">Practice</a></li></ul>
      </li>
    </ul><ul class="tree">
      <li>
        <label class="tree-toggler level2">
          <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span> 
          Design at Scale
        </label>
        <ul class="tree" style="display: block"><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/01_scaling_patterns.md/">Scaling Patterns</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/02_scaling_patterns_continued.md/">Scaling Patterns</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/03_projects.md/">Projects Discussion</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/04_review.md/">Review and Discussion</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/05_realworld.md/">Real World Survival Kit</a></li><li class=""><span class="glyphicon glyphicon-minus" style="font-size: 60%; width: 10px; color: grey"></span><a href="/content/lectures/part5/06_conclusion.md/">Last Class</a></li></ul>
      </li>
    </ul></li>
              
                <li>
            <label class="tree-toggler level1">
              <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span>
              Background
            </label><ul class="tree" style="display: block"><li class=""><a href="/content/background/grading.md/">Grading</a></li><li class=""><a href="/content/background/leveling.md/">Leveling exercise</a></li><li class=""><a href="/content/background/pa.md/">Programming Assignments</a></li></ul></li>
              
                <li>
            <label class="tree-toggler level1">
              <span class="glyphicon glyphicon-minus-sign" style="font-size: 60%; width: 10px; color: grey"></span>
              NanoTwitter
            </label><ul class="tree" style="display: block"><li class=""><a href="/content/nt/01_nt_functionality.md/">nano Twitter Functionality</a></li><li class=""><a href="/content/nt/02_nt_arch.md/">NT Design and Architecture</a></li><li class=""><a href="/content/nt/03_nt_outline.md/">Nano Twitter Project Outline</a></li><li class=""><a href="/content/nt/04_references.md/">Aggregated Twitter Bibliography</a></li></ul></li>
              
                
              
                
              
            </ul>
          </div>
        </div>
      </div>
      <div class="container">
  <div class="row">
    <div class="col-xs-12">
      <footer>Copyright (2014-2015) R. Pito Salas, pitosalas@gmail.com</footer>
      </div>
  </div>
</div>


    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="/bootstrap/js/custom.js"></script>
    <script src="/chalkmark/chalkmark.js"></script>
    <script> $(document).ready(function() {
      $('#tipue_search_input').tipuesearch({'highlightEveryTerm': true, 'show': 8, 'showURL': false, 'descriptiveWords': 50});
    });</script>
  </body>
</html>
